<apex:page id="repayPreferenceViewPage" standardController="Lending_Contract__c"
           extensions="RepayPreferenceViewController" showHeader="false" sidebar="false" 
           applyHtmlTag="true" applyBodyTag="false" docType="html-5.0" tabStyle="Lending_Contract__c">   
    
    <head>
        <meta http-equiv="x-ua-compatible" content="ie=edge"/>
        <apex:slds />
        <apex:stylesheet value="{!URLFOR($Resource.fsCore__fs_style, 'fs-style.css')}"/>
        <apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" />
        <script src="{!URLFOR($Resource.fsCore__fs_svg, 'svg4everybody.js')}"/>
        <script>var $j = jQuery.noConflict();</script>
    </head>
 
    <body>   
        <div class="slds-scope">
            <apex:form id="repayPrefForm" styleClass="fs-data-form">
                <div class="slds-theme_default slds-container_fluid slds-p-around_small">
                    <div class="slds-grid slds-grid_align-center slds-m-bottom_small">
                        <h3 class="slds-section-title slds-text-heading_small slds-truncate"
                            style="color: #16325c;">
                            <strong>{!$Label.fsCore__Advance_Preferences_Title}</strong>
                        </h3>
                    </div>
                    
                    <fsCore:horizontalLine styleClass="slds-m-bottom_small"/>
                    
                    <apex:pageBlock id="repayPrefPageBlock" mode="mainDetail" html-class="fs-data-block">
                               
                        <div class="slds-m-bottom_large">
                            <fsCore:sectionHeader label="{!$Label.Rate_Preference_Section_Title}"
                                                  isEditSectionHeader="true" isModalWindow="true"/>
                            
                            <apex:outputPanel rendered="{!(mRatePreferenceList.size > 0)}">
                                <apex:dataTable value="{!mRatePreferenceList}" var="ratePref"
                                                styleClass="slds-table slds-table_bordered slds-max-medium-table_stacked-horizontal">  
                                    <apex:repeat value="{!$ObjectType.Contract_Rate_Preference__c.FieldSets.List_View_Fields}" var="listField">
                                        <apex:column >
                                            <apex:facet name="header"><span class="slds-text-heading_x-small slds-cell-wrap">
                                                <strong>{!listField.Label}</strong>
                                            </span></apex:facet>
                                            <apex:outputField value="{!ratePref[listField.fieldPath]}" html-class="slds-cell-wrap"/>
                                        </apex:column>
                                    </apex:repeat>
                                </apex:dataTable>
                            </apex:outputPanel>
                            
                            <apex:outputPanel rendered="{!(mRatePreferenceList.size == 0)}">
                                <p>No records to display</p>
                            </apex:outputPanel>
                        </div>
                    
                        <div class="slds-m-bottom--large">
                            <fsCore:sectionHeader label="{!$Label.Payment_Preference_Section_Title}"
                                                  isEditSectionHeader="true" isModalWindow="true"/>
                            
                            <apex:outputPanel rendered="{!(mPaymentPreferenceList.size > 0)}">
                                <apex:dataTable value="{!mPaymentPreferenceList}" var="pmtPref"
                                                styleClass="slds-table slds-table_bordered slds-max-medium-table_stacked-horizontal">  
                                    <apex:repeat value="{!$ObjectType.Contract_Payment_Preference__c.FieldSets.List_View_Fields}" var="listField">
                                        <apex:column >
                                            <apex:facet name="header"><span class="slds-text-heading_x-small slds-cell-wrap">
                                                <strong>{!listField.Label}</strong>
                                            </span></apex:facet>
                                            <apex:outputField value="{!pmtPref[listField.fieldPath]}" html-class="slds-cell-wrap"/>
                                        </apex:column>
                                    </apex:repeat>
                                </apex:dataTable>
                            </apex:outputPanel>
                            
                            <apex:outputPanel rendered="{!(mPaymentPreferenceList.size == 0)}">
                                <p>No records to display</p>
                            </apex:outputPanel>
                        </div>
                    
                    </apex:pageBlock>
                </div>
            </apex:form>
        </div>
    </body>
  </html> 
</apex:page>
